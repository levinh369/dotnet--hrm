@using DACN.DTOs.Respone
@{
    Layout = "~/Areas/Admin/Views/Shared/_layout.cshtml";
}

<div class="container" style="margin-top:-60px !important;">
    <h1 class="text-center mb-4 fs-2 fw-bold"
        style="background: linear-gradient(135deg, var(--primary), var(--success));
               -webkit-background-clip: text;
               -webkit-text-fill-color: transparent;">
        <i class="fas fa-users me-2"></i> Quản lý Nhân viên
    </h1>

    <!-- SEARCH FORM -->
    <div class="card shadow mb-4">
        <div class="card-body p-3">
            <form id="searchForm" class="row g-2 align-items-end">
                <!-- Tên nhân viên -->
                <div class="col-md-3">
                    <label class="form-label small">Tên nhân viên</label>
                    <input type="text" class="form-control form-control-sm" name="keySearch" placeholder="VD: Nguyễn Văn A">
                </div>

                <!-- Email -->
                <div class="col-md-3">
                    <label class="form-label small">Email</label>
                    <input type="text" class="form-control form-control-sm" name="email" placeholder="VD: abc@example.com">
                </div>

                <!-- CCCD -->
                <div class="col-md-2">
                    <label class="form-label small">CCCD</label>
                    <input type="text" class="form-control form-control-sm" name="cccd" placeholder="VD: 123456789012">
                </div>

                <!-- Phòng ban -->
                <div class="col-md-2">
                    <label class="form-label small">Phòng ban</label>
                    <select class="form-select form-select-sm" name="departmentId" id="departmentFilter">
                        <option value="">Tất cả</option>
                        @if (ViewBag.Departments != null)
                        {
                            foreach (var dept in ViewBag.Departments)
                            {
                                <option value="@dept.Value">@dept.Text</option>
                            }
                        }
                    </select>
                </div>

                <!-- Chức vụ -->
                <div class="col-md-2">
                    <label class="form-label small">Chức vụ</label>
                    <select class="form-select form-select-sm" name="positionId" id="positionFilter">
                        <option value="">Tất cả</option>
                        @if (ViewBag.Positions != null)
                        {
                            foreach (var pos in ViewBag.Positions)
                            {
                                <option value="@pos.Value">@pos.Text</option>
                            }
                        }
                    </select>
                </div>

                <!-- Trạng thái -->
                <div class="col-md-2">
                    <label class="form-label small">Trạng thái</label>
                    <select class="form-select form-select-sm" name="IsActive">
                        <option value="-1">Tất cả</option>
                        <option value="1">Hoạt động</option>
                        <option value="0">Vô hiệu</option>
                    </select>
                </div>

                <!-- Từ ngày -->
                <div class="col-md-2">
                    <label class="form-label small">Từ ngày</label>
                    <input type="date" class="form-control form-control-sm" name="fromDate" />
                </div>

                <!-- Đến ngày -->
                <div class="col-md-2">
                    <label class="form-label small">Đến ngày</label>
                    <input type="date" class="form-control form-control-sm" name="DateTo" />
                </div>

                <!-- Nút tìm kiếm / reset -->
                <div class="col-md-12 d-flex justify-content-end gap-2 mt-2">
                    <button type="button" class="btn btn-sm btn-primary" onclick="Emp.openCreateModal()">
                        <i class="fas fa-plus me-1"></i> Thêm mới
                    </button>

                    <button type="submit" class="btn btn-sm btn-primary">
                        <i class="fas fa-search me-1"></i> Tìm kiếm
                    </button>
                    <button type="button" class="btn btn-sm btn-secondary" onclick="Emp.resetForm()">
                        <i class="fas fa-refresh me-1"></i> Reset
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- TABLE LIST DATA -->
    <div class="table-responsive shadow-sm border rounded" id="gridData">
        <!-- Dữ liệu sẽ được load bằng Ajax từ listdata -->
    </div>
</div>

<div id="modal-placeholder"></div>

@section Scripts {
    <script src="~/js/Admin/Employee.js"></script>
}
